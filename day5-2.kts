//val input = """3-5
//10-14
//16-20
//12-18
//
//1
//5
//8
//11
//17
//32"""

val input = """526859759527027-530903630595569
337717265601364-339932517390269
545089130701660-551315254037624
265340758984424-265575034323910
535666190180626-539145128075457
386605490441654-388235518620336
423385835903709-429362477775364
385422312069308-387482365060968
434044543571446-436862530762822
74539175245033-74965026800509
44742834774095-49788566839375
169325580980735-169325580980735
51096063282052-58069810607487
413831533189103-418855927945058
345108105344543-345108105344543
152972771418166-157847734707755
473542571141034-473542571141034
163332456696368-169325580980734
212003517607639-214869625712644
449422525487063-450200051002750
261670526650013-262440699650690
74741731842149-75516371691095
330696283998213-331441633999421
155332627201732-157847734707755
221424275196848-226582162731252
185110300693630-187480772832070
61259034661183-66300828124476
387682788292227-389423736589549
172627015874313-172627015874313
328351285395449-329186851393270
76935545176649-77246349234441
447679536351056-448300285004653
445931407503662-446738636362543
74741731842149-74965026800509
325030752126721-325307177049343
51096063282052-58069810607487
268721591471779-269567971629259
325307177049343-326079640025058
143950356130919-150045971248704
74965026800509-75282791772663
389897253020406-391705775049295
115257626485094-119825119608074
262440699650690-263258821311777
303326443780325-309778019953555
324006623088441-324803214222802
214869625712645-219687352009875
74741731842149-75516371691095
486023914936757-488383792976889
255699980018513-258638065060368
244144300283045-250254757936557
447054779884888-447679536351056
138623035943557-140532733682903
495128475253867-499627639192062
137109076099544-139192904222278
84823805692192-84823805692192
76184775908061-76526569575995
328573162315353-329186851393270
78975410069823-79297309342198
203999107078355-209959476084522
71048133574867-71224981434097
326079640025058-326492203266235
264205992279007-264777158310814
78975410069823-79297309342198
266806993504195-267617703756286
41435986472992-49788566839375
328351285395449-328757544594044
514473766850364-522190439991386
134886241737792-136876939866215
445048023282396-445422366122154
74086643854183-74201106808166
447432062609659-448300285004653
123299276583068-129191624367722
104553001600323-108264011748468
384648243704164-386134193460852
373065356805237-379036834653996
314569442718959-320690039031516
182474871809317-190357924983170
261969441682143-262724659026248
326825319523574-327111177200274
323792484896236-324564823916166
298104594330519-298104594330519
264205992279007-264988203098396
556449139785432-560985248309694
364605116527462-369636344155803
131169731336234-133070929279775
473542571141034-480117303920638
133294646120336-135548956899024
447432062609659-447679536351056
267617703756286-268210926825714
388982779453909-390666196636237
505888731224463-509395631718812
324291684030447-324564823916166
354840910211902-354840910211902
439498119985012-441599388338418
395764878304186-398546022034136
78125231572360-78438080522025
233178547149952-235392211723458
286209479232129-290909979710873
92901806075037-94370211494480
269746707446841-270234297073801
314569442718959-320690039031516
403593165069019-406618284406689
264777158310814-265340758984424
265818866337594-266173551138968
514473766850364-522190439991386
445422366122154-446271702604406
261504223942745-261670526650013
282155152581726-290909979710873
92901806075037-98353857372767
876959427385-6095613039337
66300828124476-66300828124476
263258821311777-263676106541399
238975774736713-240656006363157
467693150640920-471889906803212
84823805692193-89778326071387
193046801974199-195253899078724
453499176096814-459167269547006
266806993504195-266989657357129
235691954395235-238191029089354
450638449273608-451258272106192
73728752882731-74539175245033
73213232189848-73728752882731
231343953590244-233647858318470
505888731224462-505888731224462
334245722489446-337717265601362
321979107816896-322237339538591
267843115061924-268048354630500
382108200796202-383795987338234
264553989145130-264988203098396
203999107078355-204981053333115
225543169935325-230621450714858
150045971248704-150045971248704
303326443780325-307566456021470
20823869782492-24242219350925
484555826473307-490671592155327
123299276583068-123299276583068
234704202249576-236633431964463
445726395953078-446271702604406
322479352862291-323094367137729
237052415716315-239630973612728
6095613039338-8344216900761
78975410069823-79603858391383
77246349234441-77857012518728
24242219350927-27302014389310
432578376622242-435100617624369
270076811269101-270234297073801
406618284406690-410155078190630
73213232189848-73599406441595
11931341791595-19096571173991
272544678526630-272544678526630
464682877110249-467693150640919
437767002432237-440318677568155
13338172612994-17035003871112
459167269547006-459167269547006
345108105344543-349593319406890
495128475253867-497702389322273
111530580288200-116611338253415
323307649883441-323481330026974
383576464093848-385269089618536
323094367137729-323307649883441
354840910211903-358907736018584
132288517885616-133920930183998
77546108821305-77857012518728
195253899078726-198269026577572
272544678526630-280444084418547
267843115061924-268472056678149
327294753606500-327791538574437
376256304367713-381180338444018
244144300283045-250254757936557
76935545176649-77546108821305
38493578143191-38493578143191
32443494862657-38493578143190
548542430017005-551315254037624
136223761063811-138130914347965
426116260725312-431745276529134
443262168910577-443389872554598
392926261978689-401728376263719
418855927945058-418855927945058
539145128075459-540094781235090
329395527364410-329630251416021
560985248309695-560985248309695
172627015874314-178533696643087
449933231063294-450638449273608
295448358471196-298104594330518
436168534750376-438504463596282"""

val split = input.split(System.lineSeparator())

// Parse ranges
val ranges = split
    .filter { it.contains("-") }
    .map { line ->
        val parts = line.split("-")
        parts[0].toLong() to parts[1].toLong()
    }
    .sortedBy { it.first }

// Merge overlapping ranges
val mergedRanges = mutableListOf<Pair<Long, Long>>()
for (range in ranges) {
    if (mergedRanges.isEmpty()) {
        mergedRanges.add(range)
    } else {
        val last = mergedRanges.last()
        if (range.first <= last.second + 1) {
            // Overlapping or adjacent, merge them
            mergedRanges[mergedRanges.size - 1] = last.first to maxOf(last.second, range.second)
        } else {
            // No overlap, add as new range
            mergedRanges.add(range)
        }
    }
}

// Count total unique values
val totalCount = mergedRanges.sumOf { (from, to) -> to - from + 1 }
println("Answer: $totalCount")