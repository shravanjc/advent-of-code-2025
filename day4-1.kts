//val input = """..@@.@@@@.
//@@@.@.@.@@
//@@@@@.@.@@
//@.@@@@..@.
//@@.@@@@.@@
//.@@@@@@@.@
//.@.@.@.@@@
//@.@@@.@@@@
//.@@@@@@@@.
//@.@.@@@.@."""

val input = """@@.@@..@@@@@@@.@@.@..@@..@..@@.@@@@.@@@@@.@.@..@..@@@@.@@@@..@@.@@@@.@@....@.@.@@.@.@@@@@@@@@@@@.@@..@@@..@@.@@@@@....@.@@@@@@@@..@@..@
@@@@@@@@.@....@@@@@.@.@.@@@.@@...@@@.@@.@@@@@..@@.@@@@@@.@@@.@@@.@@@.@@.@@@.@.@@.....@@.@@@@@.@.@.@...@@@@..@.@@@@@@@.@@@@@..@@.@@...@.
@.@.@.@@@@@.@@..@@@@.@@@..@@..@@@...@@.@@..@@@.@@@@.@.@@@@@@.@@@@@.@..@@@.@@@.@.@.@..@@@@.@@..@@@@......@...@@...@@.@@@.@@@@..@..@.@.@@
...@@...@@@.@@@.@@.@..@@@...@@@@...@@@@@@.@@.@@@@.@@@@@@.@..@@@@@.@@@..@@@@.@@@@@@@.@.@@@...@.@@.@@.@@@@@@.@.@@@.@@..@..@.@.@@@@@...@.@
@@.@@@@@@@.@@@..@@.@.@@@@@@.@..@.@@@@@@.@@@@@@@@..@.@@.@.@@@@@.@.@@@@.@@@@@..@..@.@.@.@@@@.@@..@....@....@.@@..@@..@@..@.@@@.@@@@@@.@..
@@@@........@@...@@@@.@@..@@@@@@..@..@@@@@@.@.@@@@@@..@@@..@@.@@@.@@@..@@@.@@.@.@@..@@.@@@.@.@..@@..@@....@..@@.@.@..@@@@@.@@..@@@..@..
@@.@@@@.@.@@@@@...@@@@@@@.@@.@@@@@@.@@@.@@@...@.@@@.@@.@@@@@.@@..@@@@@@.@@@@.@@@@@@.@.@@@@@@@..@@@@.@@.@..@@@@....@@@.@@..@@@.@..@.@@.@
.@@@@....@@@.@@@@@@..@@@..@@@@.@@@@@@@@@@.@@@.@.@@@@@@...@.@@@@@@@@@.@@@@@@.@@@@...@@@@@@@@.@@@.@@@@@@.@@.@...@@@@@@.@@@..@...@@.@..@..
..@@@@...@@@@@@.@@@.@@@.@@..@@@@..@@..@@..@@@.@@@.@@@.@@.@@.@@...@@@@@.@.@@@@@@@@@@@..@@@@@@@@@@@@@@@@@@@@@@@...@@@@@@@.@.@.@@@.@@@@@@.
.@@...@.@.@@.@....@@@@@@@@@@......@@@@@@@..@@@@@@@@@@.@...@@.@..@@@@.@.@@@@@.@@@@@@@@@@@@@@@@@@.@@....@.@@.@.@@@.@@@.@@@@....@@.@.@@@@.
....@@@@@@.@@@@@@@.@..@@@@......@.@@...@@.@@@@@@.@.@@@...@.@@@.@@.@@.@@@@@@@@@@@.@@@@@.@@@.@@.@@@..@@@...@.@.@@@@@@@@@.@.@@@.@@@@@@@@@@
..@.@@.....@@@@@@@..@.@.@@@@@..@@@@.@.@@...@..@.@@..@@@@..@@.@@.@@@@.@@@@@@@..@@..@@@.@@@@..@@@...@@@@@@@@@.@@@@@@.@@.@@@@@.@@...@@@@.@
@@@..@@@.@@@@...@.@@..@.@.@@.@@@@@@.@.@@@@@@.@@.@.@@@@@.@.@.@@.@.@.@.@@@@@@@.@@@.@.@@@@@@..@@..@@...@..@@..@..@.@@..@.@@@@@@@@@@.@@@.@.
.@....@.@@.@..@.@.@@@..@@@@..@@@@.@.@@@@@@@.@@@@@.@@@@@@@@.@@@@@.@@.@...@@@@@.@.@.@@@.@@@@@@@@@@@@@.@@@..@@@@@@@@@..@....@@@.@@@..@@@.@
@@@@@.@@.@@@@.@@@...@@..@@.@@@@@@@@..@@@@@.@@.@.@@..@.@.@...@...@@@@@.@...@.@@@.@@@@@...@@@@.@.@@.@@@@@@.@@.@@@@@@@@...@@@.@.@.@.@@@...
.@@@@.@@.@@...@@@@.@@@.@@@@..@@.@@@@@.@@.@@@.@...@....@@@.@@@@..@@@@.@.@....@@@@@.....@@..@@@@..@..@@@@@@@.@@@.@@.@@@@@...@@.@..@@@@@.@
@@@..@@@@@@@.@@@@@@@.@@.@.@@..@@@@..@@.@@@.@.@@..@...@@@.@@....@.@@@@@.@@.@.@.@@@..@.@.@@....@@@@@.@@@@@@.@@@..@.@.@@@...@.....@.@@...@
@@@@@@@@@@@.@.@@..@@@@..@@@@@@@@@@.@@...@@@@..@@@@@@@@@@.@@..@..@@@..@@@@.@@.@.@@@.@.@@@@.@.@.@@.@@@.@@@@.@...@@@@..@@@@@@.@@@@@.@@.@@.
.@@@@@@@....@...@@@@@@.@.....@@@@@@@@.@@@.@@@@@@@@@@@@.@@@@..@.@@@.@..@....@@.@@@.@@@@.@@@@@@@.@@@@@@@.@.@.@@@@@@@.@..@...@@@@@.@@@@@@.
.@@@@@.@@.@.@@.@.@@.@.@@@@@@..@@@@@@..@@@@@..@@@@.@.@.@@@...@@@@@@@@@@..@@.@@@@@@@@@@....@.@..@@@..@@..@@@.@.@@.@@..@.@@@@.@@@@.@@.@..@
..@.@@@@@@@.@.....@.@@..@..@@@@@@.@....@@.@@@@...@@.@@@@@@@...@..@@@@@@.@@@@@@@.@@.@...@@@@.@@@@@@.@.@@@.@.@@@@..@@..@@@.@@.@@@.@@@@@.@
.@@@@.@@@@.@@.@@@.@@@.@@@@.@@@.@.@@@@@@@@..@@@.@@..@....@@@@.@@@@@@@.@@.@.@@..@.@..@@@..@..@@@.@@@@.@.@@@@@@@@@@@@.@@@@@@@.@@@..@.@@@.@
@@.@@@@@@@@@@.@.@@@@.@@.@@..@@@@.@@.@.@@@@@.@@@.@@..@.@@.@@.....@@.@.@@..@..@@.@@.@@@@@@.@@.@@@@.@@@@@@@@.@..@@@@@@@@@@@@@@@@@@.@@@@.@@
@@@@@.@@@..@...@@@@@@@@.@..@@@@@@@@@@.@@@@@@@@.@..@.@@@@@.@.@@.@@@@.@@@.@.@@@@@@@@@@..@@.@@@@@@@.@@.....@@@..@@@...@@@@.@@@@..@@.@@@@@@
@.@.@@@.@.@@@.@.@@.@@@@@.@@@@@..@..@@..@@@.@@@@@@@@.@@@..@.....@@@@@.@@@@@@@@.@.@@@@@.@@.@@@@@@.@@@@.@.@@.@@@@@@@@@@@..@@@@.@@@.@.@..@@
@..@.@@@.@.@..@.@.@@.@.@.@@@@.@....@@@@.@@.@.@...@@@@@@..@@@@@@.@@...@@@.@@@.@@..@@@.@@..@@@@...@.@@.@@@..@.@.@..@@.@@@@@@.@@.@...@@..@
@@@@@..@@@.@@@@.@@@.@@.@.@@.@@@@@...@@@@@@..@.@.@.@.@@.@...@.@@@.@@@@..@.@@@@@@....@@@.@@@@@@..@.@@@@@.@@@@@.@@..@@@.@..@@..@@@@..@@@@@
@@@@..@@@@.@@@@@@@@@..@.@@.@.@@@@......@..@@@@@.@@.@@@@@@..@@...@@@.@@@@@.@.@@.@.@.@.@.@@.@@@@@.@@@.@@.@.@@@@@@@@.@..@@.@@@@@.@@@@@....
@..@.@@....@@.@@@@.@@@.@...@.@@@@@@@@@@.@@@@@@@.@@.@@.@.....@.@@@@@@.@@@........@..@@.@@.@@@..@@@@....@@@@@@..@.@..@.@@@@@@.@.@@.@..@@@
@..@.@.@@@@..@..@@@@.@..@@.@@@.@.@@..@..@@@@.@@@@@.@@@.@@.@@..@..@@..@.@...@@.@@..@..@@.@.@@@@.@@@....@@..@.@@@@..@@@..@@@@.@@.@@@@@@..
@@.@.@@.@..@@.@@.@@@.@@.@@.@@.@@@@@.@@@@@.@.@.@.@@.@.@.@.@@.@..@@@..@.@@.@@..@.@...@@.@..@.@@@@@@.@@..@@..@..@.@@@@@@@.@@@..@@......@.@
@.@.@.@..@@..@..@@..@.@@@@.@@@.@...@@@@@@@..@@@.@.@@@@.@@@@@@@.@@@@..@....@@..@.@@..@...@..@.@.@.@.@@@@.@.@..@@@.@@@...@...@@@@.@@@@@@@
@..@@@@@@@@@@@@@..@@@..@@@@.@@.@@@..@@@@@@@.@@@@..@.@.@.@@@@.@.@@...@.@@..@.@@@@@@@@..@@@.@.@..@@@..@@..@@@@.@.@.@..@@@@.@..@@@..@.@.@.
...@...@@.@..@.@@@..@.@@.@....@@@@@.@@@@@.@@...@..@@@@@@...@@@.@@.@.@.@.@.@@@@@..@@@@@.@@..@@.@@@...@.@@..@.@@@@@@@@.@@@@@@.@@@@....@.@
.@@..@.@...@@@.@..@.@@@.@@@@@@@@@@.@@..@.@.@@@@@.....@@.@@...@.@...@@.@.@@@@..@@.@@@@@@@@.@@@.@..@@@..@@@@@@.@.@@@@.@.@@@.@@@....@@..@@
@@@@.@.@@.....@..@@@@.@..@@.....@@.@...@@@@@.@@@.@..@@@@@@.@@@@@@.....@.@@@@..@.@@.@..@@.@@@@.@@.@@.@.@@@.@@@@@.@@.@.@@@.@@@@@@..@@@..@
@@@@@.@.@@@@@@@..@@@@@.@@@.@.@@@@@@@@@@@@@@..@@@.@.@@@@.@@@@@@..@.@@@..@@.@.@.@@@@..@@@@@@...@@@@@.@.@.@...@.@@@...@@@@@@@@@@@..@@@@@@@
@.....@@@.@@@.@@@.@@.@@@@..@@.@@@@@@.@@.@@@..@.@@.@@.@@.@..@.@@.@@...@@@@..@@@@@@.@.@@.@@@.@@.@@..@@@@@..@@.@@.@@.@@.@@@.@..@@..@.@@@@.
@@@@@@..@@@@@.@.@@@@@@@@@@@@@@@@.@@.@.@@.@@@@@.@@@@.@@@@.@@@@.@@@.@.@@...@@@...@@@@..@@@@@@.@@@@@@@.@..@@.@@@..@@@.@..@.@@.@@@@@@.@@.@@
@@@@@@@@..@@@@.@@@@.@..@@@@@@.@@@@@@@..@@@@.@.@@@@@@.@@..@@.@@@@.@.....@@@@@..@..@.@@@@..@@.@@@.@@.@@.@@..@@.@@@@.@..@.@@@@@@@.@@@@@@@@
@.@@.@@.@@.@@@.@@..@@.@.@..@@@@@...@...@@@@.@@.@@...@@@@@...@@.@@.@.@@.@@...@@@@..@.@@@..@@..@@@....@@@@..@@@@@.@@@@@...@@@@@@.@.@@.@@.
@@@..@.@.@@.@@@@@.@.@@@@@.@@....@.@@.@@@@.@@..@.@@@@@@@@@.@@.@....@@@.@@@.@.@.@@.@@@@@@@@@@@@..@@@@@..@@.@.@.@@.@..@.@@..@@@@@@..@@@@@.
@@@..@..@.@.@@....@@@@@..@@@@@.@@@...@@@@.@@@@@.@@@.@@@@@.@@@@@@@.@@@.@@@@@.@@@@@@@@@@@..@@@@.@@@@@..@@@@.@@@.@@.....@@..@@.@@@@.@.@@@.
@.@@@...@@.@@@..@@@@@@.@@@@@..@@@@.@..@@@@@....@@@@@....@@...@@@.@@@@@@.@@@@@@@..@@.@@@.@.@@@@.....@..@@..@@@@.@@@@@.@@.@.@.@.@.@.@@.@@
@@.@.@.@.@@@@@@..@@@@@@@@@@@.@..@..@@@@@.@@..@@@..@@..@...@.@@.@@@@@@@@@@@@@.@@...@.@@.@@@.@...@@@@@.@@@@@@@@.@.@@...@.@@@..@@@@@@@@@@@
@@.@@@.@..@@@@@@.@@@@@.@.@@@@@@..@...@.@@@@@@.@@.@...@@@@@.@@..@@@.@..@@..@@@.@.@@@@@.@..@@..@@@@.@@@@@@.@.@@.@@@@@.@.@...@@@@@..@@.@@@
.@@@@@@@..@@@.@@@@.@@@@.@@@.@@.@@@@@.@@.@..@@..@@@.@@.@@@@@.@@@@@...@.@.@@@@@@.@@@....@@@@@@.@@.@..@@@..@..@@@.@..@@@@.@@.....@.@.@@...
.@@...@@@@@@@@@.@@..@@@@@@..@@@@@@@@@.@@@.@@@@@@@@@@@@.@@@@.@@..@@.@.@.@@.@@@@..@@@@..@@.@@@@@@@.@.@@@@.@..@@@@@@@@@.@@@@@@@@@@..@@@@@@
..@@.@@.@.@.@..@@@@@@.@@@@@@.@...@.@.@@..@@.@@.@.@@@..@@@@@@@@@.@....@..@.@@@@@@.@@.@@@@.@@@@.@@.@@@..@..@.@@@.@@@.@@@..@@@.@@@.@@@@..@
@@@@@..@@.@.@@@@@.@@.@@..@@@@.@@..@@@@.@..@@@@@@..@@@@@@@...@@@@@.@@@@.@@@@@@.@@..@.@@@@@@@@@@...@.@.@@@.....@@@@@..@@@.@@.@@.@.@.@@.@@
..@.@@@.@@.@.@@@@@@@@.@@..@@..@@.@.@@..@@@@..@@@.@@@.@@@@.@.@.@@@.@..@.@.@@.@@@.....@@..@@@@..@@@@@@@@..@@..@@@@.@@...@.@@@@@.@@..@@@@@
@@.@.@...@@@.@@.@@.@@.@.@.@@...@.@@@.@.@...@.@.@@@@@...@.@.@@@@...@....@@@@.@..@@@@@@@@@.@@.@@@@@@@@....@@@@@..@@.@@.@@.@.@@@..@.@@@@@@
@@@....@@@@..@...@.@.@@@@@@.@...@@@@@.@@.@....@@@.@..@.@.@...@..@@@.@.@.@@@@@@@@.@.@....@@@@...@@.@@.@@...@.@@@@@@@@@@@@@@@.@@.@...@@.@
@@@..@@..@@.@.@.@.@.@.@@@@@.@.@.@@.@@..@.@.@.@.@.@@@@@.@@@@.@...@@.@@...@@.@@.@@.@@@@..@..@...@@@@@.@.@.@@@.@@@@@@.@@@@..@.@.@.@@.@@@@@
..@@@.@@@@...@@.@@@@@@@.@@@@.@@@.@...@@@....@@@@@@@@.@.@@@@@.@@@@@.@.@@.@..@.@@@@@.@.@@.@@.@@.@@..@@..@@@.@...@@...@@@@@@@...@@..@@@...
.@@@@.@@@@.@.@@.@@@@@..@@@@.@@.@.@@@@@.@..@@@.@.@.@@.@@....@@...@@.@.@@.@@.@@@@@@..@@@@@@@@@.@@..@@...@@..@@@...@@@.@.@.@@@.@@.@@@@@@@@
.@.@@@.@..@@..@.@...@.@@@..@@@.@@.@@.@@@@@@..@.@@.@.@.@@..@@@...@@.@.@.@@.@@@.@@@.@@@@@.@@.@.@..@.@.@..@@@@@@@@@@..@@@@.@@@@@@@@@@...@.
.@@@@@@.@@@...@@@@@@@.@@@..@@@.@.@@..@.@@@@..@@@@@@.@@@@@@.@@@@@@@@.@.@@@.@..@.@@.@@@@@@@..@...@@..@.@.@@..@.@@.@@.@@@@@@.@@@@@@@@@@@.@
@.@@@@.@.@.@....@@@@@...@@@@@@@@..@.@@@.@.@.@.@@.@.@..@@.@.....@@@@@@@@@@@@@.@@@@@@@@@@..@...@@@@@@@.@..@.@@@@..@.@@.@@@@.@@@@@@@..@@@.
@...@@@.@@..@@@.@@@@@@.@.@@@@..@@..@@@@.@@@.@@@@@@.@@...@@@@@@@@..@@.@@.@@@....@@@@.@.@@@@@.@@@@@.@@@@@.@@@@@@@.@..@@.@@.@.@.@......@@.
.@@@..@.@..@@.@@..@@.@@...@@.@@@@@..@@.@@@.@@@@@....@@@.@@@.@@.@@@.@@.@....@@.@.@@@@..@.@@.@.@@@.@.@@.@@..@@@@.@@.@@..@@@..@@@.@.@@..@@
..@@@.@@@..@.....@@@@@@.@.@@@@@@.@.@@.@@@@..@@@.@.@.@...@@@@@.@@@@@@@@@@@@.@@...@@@.@@@@@@@@..@..@@@@@@@.@@@.@..@@@.@@@@@@.@@@@.@@@@.@@
.@@@@@.@@@@.@.@@@@.@@@@@...@@.@@@@@@.@@@..@.@@.@@.@.@@@@..@@...@@@@@.@@.@@.@@@@.@@@@@@...@@@@...@@.@@..@@@@@.@@.@@.@@..@@@@@@@.@@.@@@@@
...@....@@.@.@@@@@@..@@.@@.@@@@.@@@@...@.@@@@.@..@@.@@@.@@@.@@@@@@.@@@...@@@@@@..@@@@.@@@@@@@@@@@..@@@@@..@.@@@@.@.@@@@@@@@@@@@@@@@@@@@
.@@@@@.@..@@@@..@@@@@@@@.@.@@.@@@.@@@@@@@.@.@@..@@..@...@.@@@.@..@@@@@@.@@@.....@@@@.@@@.@@@@@@@@@@...@@..@..@.@@.@@@.@.@@.@@@@@.@..@@.
@@.@.@.@@@..@@.@..@..@@@@@...@@@@.@..@.@@@.@@@@@@..@@@@@.@@@@@@.@@.@@@@@.@@.@@.@@@@@@..@@@.@@@@.@@..@@...@@@@@@@@@@.@.@@@@@@@..@@@..@..
.@.@.@.@@@@...@@..@@.@@@@@@@@.@@@@@@.@@@@@.@@@@.@@@@@@.@.@@@@.@@.@.@@@.@.@@@@.@...@@.@@@.@@@@@...@@@.@@@@@@.@@..@@@...@@.@@@..@.@@.@.@@
@.@@.@@..@@@@...@@.@@@@.@@@.@@.@@@@@.@@@@@@@@@@.@.@@.@@@..@@@.@...@@@@@@..@@@@@@@.@@...@@@.@..@@.@@.@@.@@@.@.@.@@.@.@@...@..@.@@@@@@@@@
@..@@@@.@@@@@.@@@@@@@.@@@@@@@@.@@.@.@@@@@@@@@@@@@@@@@@.@@@..@...@@@@@@@@@.@@..@.@.@@@..@.@@.@@@@@@@@@@.@@.@@@..@@.@@@@.@@..@.@@.@@@@@@@
@@@@@@@@@@.@@@..@@@.@..@@...@.@@.@@.@.@@@@@..@@@@.@@@.@@@..@.@@@@@.@@@@....@..@@@@@.@..@@@.@@@@....@@.@@.@@.@.@@@@...@..@@@.@.@...@@@@@
@.@@@@@@@@@@@@..@@@@@@.@.@@@.@.@...@@@...@@@@@@.@@@@..@..@@@.@@.@@..@@@@@....@@.@..@@@@@@@.@@..@..@@@.@.@@.@.@@@@..@@@@@.@@....@.@..@@@
.@@@@...@..@...@@@.@@@@@@@.@@.@@@@.@@@@.@.@...@@@@.@...@@@.@@@@.@@..@..@@.@@.@@.@@...@...@@@@@@@@@.@@..@@..@@..@@@.@@.@@@@..@@@@@@.@@@@
@@.@@.@@@@.@...@.@..@.@...@@.@@.@@.@...@@@@.@@@@@@@@.@..@.@@@@@.@.@.@..@@@.@@@@@.@@@@.@....@@.@.@.@@@@@.@..@@@@@@@@@.@.@@@@@@.@..@@@.@@
@...@.@...@@@@.@@@.@@@@@.@@.@.@@@..@.@@@@@.@.@@@@@..@@@@.@@..@.....@.@..@.@.@.@@@@..@@@@@.....@@@@@@.@.@@@.@@@@.@@.@@@@@@@.@..@.@@.@.@.
@@@.@@@@.@..@.@..@@.@@@@.@@..@@..@@@@@.@@@.@..@.@@@@.@@.@@@@@@.@@.@@@.@@.@.@@.@.@@@@@@...@.@..@..@@....@.@@@.@.@@@.@@.@@@@@.@..@@@.@.@@
@.@@.@@@.@@@@@@@...@..@@@@@@@.@..@.@@@..@@@.@@@@.@@@.@@..@.@@@.@@...@@...@@@@...@.@@@@@@@.@.@@@.@@...@...@@@.@.@@@@.@@@@.@@@@.@.@.@.@..
@.@@@@@..@@@@..@.@.@@@..@@@@.@@@@@@@@@@@@@...@@@@.@.@...@@@@@@@@@@@@@@@..@@.@@..@@...@@@.@@.@@@..@@@@@@.@.@.@@@@@@@@@@@.@.@..@@@@@..@@.
@.@@.@@@@@.@..@.@.@@@@....@@@@...@@@...@@.@@@@@@@@.@@@@..@@@@@.@@@@.@@@.@@@@@@@..@.@.@@@@@@...@.@@..@..@.@.@@@..@@.@@@@@.@@.@@@@.@@@..@
@@..@@.@@@@.@..@.@.@@@.@@..@.@@@@@.@@...@@@.....@@.@@@@@@@@@.@.@.@@.@@@.@....@@@@..@@.@@..@.@..@@..@.@@@.@@@@@@@.@@@.@@.@.@.....@..@@@.
@.@@..@@@...@.@.@@@@..@@@..@@.@...@@.@..@@..@.@@@@@@.@..@.@..@@@@@.@@@@@@@@..@@@@@...@.@@@.@@@.@.@@@..@@@@@@@.@@@@@.@..@@@@@@@.@@.@@@..
@@@@@@@.....@@@@@@@.@@.@.@@@@@@@@.@.@.@@@@@@.@@..@..@@@.@@@@.@@@..@.@....@@@.@@@.@.@@@@...@@@@..@..@@@@.@.@.@@..@@...@.@@@@@.@@@@@@@.@.
@..@@@.@@@@@@@...@.@@@@@.@@..@@@@.@@@.@@@@.@.....@@.@@.@..@@@@@..@@@..@@@@..@@@@@.@@@..@@@@@@..@.@@@@..@@@@@.@@@.@..@.@@@@@@@@@.@.@@@@@
...@.@@...@@@@..@@.@...@.....@...@.@@@@.@@@@.@@..@@@@@@.@@@..@.@@..@.@@...@@.@.@@@@@@@@@..@@@@@@@@...@@@@@@.@@@.@.@.@@.@@..@.@@@@@@@@@.
@.@.@@@.@@@@@...@.@.@@@@@.@.@@@@.@@@..@@@@@@@@@@@@@.@..@@@@@..@@@@@@@.@..@.@@@.@@.@..@@@@@@.@@@@@@@@@..@@@@.@@..@@@@.@@@.@@@@.@@@@@.@..
.@.@.@@...@.@@..@.@@@@@.@@@@.@@@.@.@@@@@.@@..@@@...@.@@..@.@@.@@@@@@..@.@@...@.@@@@@@.@.@@@..@@.@@.@@@@.@@..@@@@@@.@@..@@@.@@@@@.@.....
@.@@.@@@@..@@....@@@@@@.@@@.@@@@...@@@@@..@.@@.@@@@...@@@.@.@@@...@@@.@@@@@@.@..@@@@@@..@.@..@.@.@@@@@..@@.@@.@@@@@@@@@@.@@..@@@.@@@.@.
...@.@@@@.@.@@.@..@@@....@@@.@@@.@@..@..@@@@@@@..@@@@@@@@.@..@@@....@@@..@@.@@.@@..@@@@@@@@@.@.....@@@.@@..@@@@.@@.@@@@@@@@@@@.@.@.@.@@
@.@@@@@@@.@@.@...@@.@@@....@@@@@.@@.@@.@@@@@@@...@@..@@@@.@@@.@.@@.@@@@@@@@@.@@.@@@@@@@..@.@..@@@.@@.@.@.@@.@.@@.@@@.@.@@..@@@@.@@.@@@@
.@@.@@.@@@@..@..@@@@.@.@@@@.@.@@@@@.@......@.@@@@.@@@@@@.@@@.......@@@.@..@.@@..@@@@@@..@@...@@@@.@@@@@@@..@.@.@@@@.@@..@@@@.@@@@@@.@@@
@@@@.@.@@@@.@.@@@@@@@.@@@@@.@@@@@.@@@@.@.@@@@.@@.@@..@@.@..@@@..@@@..@@...@@@@.@@@@.@..@.@@.@@@@@@.@@...@@@@@@@@@@@@@@@@@@@@@@@..@@.@@@
@@@@@.@..@..@@.@.@@@..@@.@@..@....@@@@..@.@@....@@.@.@.@.@@@.@@@..@@@...@@..@@....@@..@@..@@..@@@@@..@@@@@@..@.@@@.@.@.@.@@@..@..@.@.@.
.@@.@.@@...@@@@..@@.@.@@@@@.....@.....@@.@@..@@@..@@@..@@.@..@@@@.@@@@@.@..@@@.@..@@...@..@@...@@@.@@@.@@@@.@@.@.@@..@@@@...@.@@@@@.@@@
@@@@@..@@.@@@.@..@@@@@@.@.@@@.@@..@@@@@@@..@.@.@@@.@@@@@......@....@@@@@.@@..@.@.@@@.@@@@@@@..@@@@@.@@..@.@@@@@..@.@.@@@@@...@..@@@..@.
@@.@@.@.@@@..@@@.@@..@@@.@@@.@@@@@@@..@@@@.@.@@@@@@.@..@..@@..@.@..@@@@@@@@@@.....@@@@.@.@@.@@@@..........@@.@@@.@@@..@@@.......@@@@@@@
...@.@@@@@@@@.@@@.@.@@@@@.@@....@...@.@@@@@@.@...@@@.@@@@..@@@@@...@.@@@@@@@@@.@..@@@@@@@.@@@.....@@@@@@@..@.@@@@@@.@.@@@@@@@@@@@@@@.@.
..@@@.@@@@.@@@@.@..@@.@.@@.@@.@@...@@.@@@@@.@@@@@@...@...@@@..@@..@@.@@.@@@.@@@@@@..@@@.@@@@.@@@@@.@.@@@.@@@@@.@@@.@@@@@@@@@.@@..@.@@@@
.@@@@@.@@.@.@@@@.@@..@@..@@@@@@@.@.@@@.@@@@@@@.@@.@@@@@.@.@@.@...@@......@.@..@.@@..@@@..@@@@@@@..@@@.@@@@@.@@@@@.@..@..@@..@@.@.@..@@@
@@@@....@@.@.@..@@.@@@@.@@@@@@..@@.@@@.@@@@@@@.@@.@.@...@@@@...@.@.@@@.@@@..@..@@@@@@@@@@@.@.@.@@@@@@@.@.@@@@.@@@@@.@@@.@@@@@@.@@@.@@@@
..@@@@@@.@@.@.@@.@..@.@@@.@@@@@.@@@@@.@@@@@@@@.@.@@@@@@@@@@@.@@@.@@@@.@@@@@@@@..@@@@@@@..@@@@@@.@.@.@@@...@@@.@@@..@@@@.@@.@@.@.@@.@@@@
@@.@@.@.@@.@@.@.@@@@@.@@..@....@...@@@@@@@..@..........@@@@@..@.@.@@@.@..@...@@@@.@@@@@@.@@@@@.@@.@.@.@@.....@@@.@..@@@@@@.@@@@@@@@@@@@
@@.@@.....@@.@@.@@..@.@.@.@@@...@@.@@@@..@@..@@@.@.@@@.@@@.@@.@.@@@@@@.@.@@@@@@..@@@.@..@@@..@@.@@@@.@@@@@@@@@@@@@@.@@@@.@@..@@...@@@@@
@@..@@..@@.@@@...@@@@@@@...@@@@@@@.....@.@@.@@@.@@@@@@..@..@@@@@@.@@...@@....@@@..@.@@@.@...@@@@@@.@@@@.@.@.@@@@@@@@.@.@.@..@.@@@@.@@@.
@..@@@@..@..@@@..@.@@@@@@.@.@..@.@@@@.@@@.@@@@@@@@@@@....@.@@@@@@@@@.@@@@@@@.@.@.@@@@@.....@@@@@@@@@@@..@.@.@.@@@@@@@@@@@.@@@.@.@@.@.@.
....@...@@@.@@....@@@.@@@@..@@@....@@@@@@..@.@..@.@@@.@..@.@@.@@@.@.@..@.@@.@@@..@@..@..@@@.@@@...@.....@@@@@.@@@@@@@.@@..@@@.@...@.@@.
@@@@@.@@@@@.@@..@@@@@@@@@@@...@@@.@.@@.@@@.@.@..@.@@@..@.@@@@@.@@.@@@@@@.@@@@.@..@@@.@@.@@@@@@..@..@...@@@.@@.@@@@@@..@@@@@@@@@@@@@.@..
@.@.@@..@@@@@@..@.@.@@..@.@@.@..@@@.@@@@@.@@@@@@@@.@..@.@.@@@@@@@.@.@@@@@@@@@@@@@@@.@@.@@@@@.@@.@@@@.@@@.@@.@.@@.@@.@@@@@@@...@@...@@@.
.@...@@@.@.@..@@@@.@@...@@...@..@@..@.@@@@@@@@@@.@..@.@@@..@@.@..@@@.@@@@.@@..@.@@....@@@@@@.@@.@....@@..@@.@@.@@@...@..@@.@@..@@@@@@@@
@@@.@.@@@@@@.@@@@...@.@@@@@@@.@..@.@@@@@@@@@.@@.@.....@..@@..@.@@@@@.@.@@@@@@@@@@.@.@@.@@@@@@..@@..@@@@@@..@@@@.@....@@@@...@@...@@@.@.
..@@@@..@@@.@@.@@@@@@@@@@@...@@@@.@@.@@.@@@@....@.@@..@@..@@@.@@@.@@@@@@.@..@@....@.@@@.@@...@.@@@@@..@@@@@@@.@@@@@@@.@.@@@..@.@...@@@@
.@@@..@@@@@@@@@@..@@@.@..@@@.@@.@.@@....@@..@...@@@.@@@@@.@...@.@@.@@....@@@@@..@@..@.@@@@@@@@@.@@@@@.@@@@.@@@@@@.@.@@@....@@@..@@@..@.
@.@@.@@.@..@..@@@@@@@.@@@@.@@.@..@.@.@.@.@.@@...@@@@@@@@@@@@..@@@@@..@@@@..@@..@@.@@@@@.@@@@@@@.@.@@.@....@@@@.@@@@@@@.@...@.@@.@@.@@.@
..@..@@@@@.@.@@.@@.@.@@@@@@@.@@@@@@@@@.@@.@.@@.@@@@@@@@.@@@.@@.@.@@@@.@@.@@.@@..@.@..@@@@.@@..@@@.@@@..@@.@@@.@@@@.@@@@@..@@.@@@@@....@
@@@@.@@..@@@@@@@@@.@.@@@@..@@@.@@..@@@@.@@@@@@@@..@@@@@@..@.@.@@@...@@@@@.@.@@.@..@@@...@@@@@@@@@.@@@.@@@@@@@@@@.@@@@..@.@.@...@@@@.@@@
@@.@.@@.@..@@..@.@@@.@@@.@@.@..@@..@.@..@@...@.@@@@@.@@@@.@..@..@.@@@@@.@@.@@@.@.@.@@@@.@.@.@.@@@@@...@.@@@..@..@@@@@@@@@@@@@.@..@.@.@.
.@@@@@@@@.@@@@@@@@.@.@...@@@@@@@.@@.@@@@..@@..@@..@@@.@@@....@@.@@.@.@@@@...@.@.@@@..@@@.@.@@@@..@@@@...@@@@@@@@@..@..@..@@.@@..@@@.@.@
...@.@@@@@@@@..@.@@@@@@.@@@.@@.@.......@@@.@@@@..@@@@@..@@@@.@..@@.@@.@@@.@@..@@.@@@@.@@.@.@@@.@@@@...@.@.@@.....@@@...@@@...@@.@..@..@
@.@@@@.@@@...@..@@@@@@@.@...@@@@..@@...@.@.@@@@@.@..@..@@.@@@.@.@...@..@@@..@@.@@.@.@...@@.@@...@@..@.@@@@@@.@..@..@@.@@.@@@.@.@@@@@@.@
@..@.@@@@.@@@@@.@@@@@.@@@.@.@..@.@@..@@@.@@@@.@.@@@.@@.@@.@@.@.@@@@@.@@@.@@@@@@@.@@@@@@.@..@@@@@@@...@@.@.@.@.@@@@.@@@...@@@@...@.@@@.@
@@@@.@..@@@.@.@@.@@@@@.@.@@@...@@@..@@.@@@@@.@.@..@@..@@@.@@@@@..@@@@.@...@@@.@@@@@@.@.@@@@.@@@@.@@.@@@.@..@.@@....@@@@@@..@@@.@@@@@@@.
@@@.@@@.@...@@@.@@@.@@@@@@@..@@.@..@@@@@.@@@...@@.@@@@..@@@....@@@@@.@.@@@.@@@.@@...@.@@@@.@.@@@.@@@.@@@@@.....@.@@.@@@@.@@@@.@@..@@@@.
.@.@.@@@@@@@.@@.@@@..@..@@.@...@..@@@.@@.@@...@.@....@@..@.@...@..@@@@.@@@...@.@.@..@..@...@@@@@@@@.@..@@@@@@.@@@.@..@.@@@@@@@@@@@@.@..
@..@@..@.@@@...@@.@@@@@@@@@..@@.@@@@.@@@..@.@@@.@@@..@@@@.@.@@@.@@@@@...@@@@@@@@..@@@..@@@@..@@@@@@@.@..@@@@@@@.@..@@@@@@@..@..@@@@....
.@@@@.@@@@@.@@@.@@..@.@@@@@.@@@@@@@@.@.@.@...@..@.@.@.@@.@.@@@...@@@@@@@@...@@@.@.@.@@@@@.@@@@.@...@.@@@@@@@.@..@@@@@@@@@@.@@@@.@@.@@@@
@@.@@@.@..@.@.@@@..@@@@@@@@@.@@..@.@@.@@...@@.@.@@.@.@@@@.@@@@.@@@.@@..@@@@@@@.@...@.@@.@@@@....@@@@@..@.@@..@.@..@@@@.@@@@@@@..@.@@.@@
..@.@@@@@@@@.@@@..@@@.@@@...@@..@.@@@..@@@@.@@.@@@@..@@...@@.@@.@@@.@@@@@.@@@.@@...@@@...@@.@..@@@@..@@@@@@@...@@.@.@@.@..@@@..@@.@.@.@
@...@@@.@@.@@@.@@@@@@@@.@@@.@@@@@..@@.@@..@@@...@@@@@@@.@.@..@..@.@.@@.@.@@@.@.@@@@.@@@@.@...@@@.@.@@@@@@.@.@@@@@@@@@@@@@@@@@.@.@.@@@.@
.@.@@@@@.@.@@@@.@@@@.@@..@@@@@@@..@@@.@@.@.@@@@@.@@@@@@@@@@@@.@@@@...@.@.@@@..@@@..@.@..@@@@@@@@@.@@@@.@@@@...@@.@.@.@@.@.@@@@@@@@@@@@@
@@@@@.@@.@@..@@@@....@..@@@@@@@@@.@@@.@.@.@.@@@@@....@@.@.@@@@@.@@..@.@.@.@@@@@@@@@@@@..@.@.@.@@@..@@@@@.@@..@@@.@.@...@@.@@.@@@..@@@@.
@@.@@@@.@@..@@@.@.@@..@@.@@.@@..@@..@@@@.@@@@.@@@@@..@@@@.@.@...@@...@@@@@@.@@@@.@@@@@@.@@..@.@@@..@@.@.@.@@@.@@@..@@@@@@.@@@@@..@@.@@@
..@@@@.@@@@@@...@.@.@.@.@.@@@@@...@@@@@@@@.@@.@.@@@@.@@@@@@@@@..@.@@.@@@@.@.@@@.@@.@@.@@.@@@@.@..@@.@.@@@@.@@@@@@@.@@@@@@@@.@@..@@@@@@@
@@.@@@@.@@@@@@@@@...@.@@@@@@.@..@.@@.@..@@@@@.@@@.@.@@@.@.@.@@@@@@....@@@...@@@@..@@@@.@.@@@@@@.@@@@.@@@.@..@@@.@.@@.@@.@.@..@@@@@...@@
@..@@@@@.@@@@.@@@@@@.@.@@@@@@@@@@@@@..@@..@@@@.@@@..@..@@@@....@.@.@..@@@@.@@@@.@....@@@.@@@..@.@.@@...@...@.@.@.@@.@@@@@@@@@@@@@@@@.@@
..@@.@@@@.@@..@@@...@@@@@..@.@@..@@@@@.@.@@...@.@@@@.@....@@@..@@.@@.@@...@@@@.@@@@@@@.@..@@@@.@@@@@@@......@@@.@@..@@.@@@@@.@@@@.@.@.@
..@@@.@@.@.@@@@.@.@.@...@@@.@.@@@.@..@.@@@@..@@...@@@@@.@.@@@@@@@..@@@@.@@.@@@.@.@@.@@@@.@.@@@@@@@@@.@@@@@@@.@@@@..@@.@@@..@@@@@@@..@.@
.@.@@.@@..@@@.@@..@@@@..@.@@.@@@@@@@.@.@@.@...@...@@@.@..@@@@.@.@@@...@@@@@@@..@..@@@@@@@@@@.@@.@@@.@@@@.@.@@...@..@@@.@@@.@...@@@.@@.@"""

fun pickUpRoll(iterationCount: Int, matrix: List<MutableList<String>>): Int {
    var pickUpCount = 0
    matrix.forEachIndexed { rowIndex, row ->
        row.forEachIndexed { columnIndex, value ->
            if (value == "@") {
                //check if total count around the grid is more than 4
                val aboveRow = matrix.getOrNull(rowIndex - 1)
                val belowRow = matrix.getOrNull(rowIndex + 1)

                val leftColumn = row.getOrNull(columnIndex - 1)
                val rightColumn = row.getOrNull(columnIndex + 1)

                val aboveLeft = aboveRow?.getOrNull(columnIndex - 1)
                val above = aboveRow?.getOrNull(columnIndex)
                val aboveRight = aboveRow?.getOrNull(columnIndex + 1)

                val belowLeft = belowRow?.getOrNull(columnIndex - 1)
                val below = belowRow?.getOrNull(columnIndex)
                val belowRight = belowRow?.getOrNull(columnIndex + 1)

                val count = listOfNotNull(
                    leftColumn,
                    rightColumn,
                    aboveLeft,
                    above,
                    aboveRight,
                    belowLeft,
                    below,
                    belowRight
                ).count { it == "@" }

                if (count < 4) {
                    matrix[rowIndex][columnIndex] = "x"
                    pickUpCount++
                    println("iteration: $iterationCount picked up at $rowIndex,$columnIndex")
                }
            }
        }
    }
    return pickUpCount
}

val matrix = input.split(System.lineSeparator())
    .map { it.chunked(1).toMutableList() }

var answer: Long = 0L
var iterationCount = 0
while(true) {
    iterationCount++
    val pickUpCount = pickUpRoll(iterationCount, matrix)
    answer += pickUpCount
    println("iteration $iterationCount: $pickUpCount")
    if (pickUpCount == 0) break
}
println("final answer: $answer")